// Generated by CoffeeScript 1.4.0
(function() {

  angular.module('tmg').controller('ProjectCtrl', [
    '$scope', '$rootScope', '$cookies', '$state', function($scope, $rootScope, $cookies, $state) {
      console.log('ProjectCtrl');
      $rootScope.current = 'project';
      $rootScope.showNav = true;
      $rootScope.random = Math.floor(Math.random() * $rootScope.randomRange);
      $('.button-collapse').sideNav('hide');
      $('#portfolio-item').mixItUp();
      $('.sa-view-project-detail').on('click', function(event) {
        var backBtn, dataHide, dataShow, dataShowMeta, filterBtn, href, preLoader;
        event.preventDefault();
        href = $(this).attr('href') + ' ' + $(this).attr('data-action');
        dataShow = $('#project-gallery-view');
        dataShowMeta = $('#project-gallery-view meta');
        dataHide = $('#portfolio-item');
        preLoader = $('#loader');
        backBtn = $('#back-button');
        filterBtn = $('#filter-button');
        dataHide.animate({
          'marginLeft': '-120%'
        }, {
          duration: 400,
          queue: false
        });
        filterBtn.animate({
          'marginLeft': '-120%'
        }, {
          duration: 400,
          queue: false
        });
        dataHide.fadeOut(400);
        filterBtn.fadeOut(400);
        setTimeout(function() {
          return preLoader.show();
        }, 400);
        return setTimeout(function() {
          return dataShow.load(href, function() {
            dataShowMeta.remove();
            preLoader.hide();
            dataShow.fadeIn(600);
            return backBtn.fadeIn(600);
          });
        }, 800);
      });
      return $('#back-button').on('click', function(event) {
        var dataHide, dataShow, filterBtn;
        event.preventDefault();
        dataShow = $('#portfolio-item');
        dataHide = $('#project-gallery-view');
        filterBtn = $('#filter-button');
        $("[data-animate]").each(function() {
          return $(this).addClass($(this).attr('data-animate'));
        });
        dataHide.fadeOut(400);
        $(this).fadeOut(400);
        setTimeout(function() {
          dataShow.animate({
            'marginLeft': '0'
          }, {
            duration: 400,
            queue: false
          });
          filterBtn.animate({
            'marginLeft': '0'
          }, {
            duration: 400,
            queue: false
          });
          dataShow.fadeIn(400);
          return filterBtn.fadeIn(400);
        }, 400);
        return setTimeout(function() {
          return dataShow.find('.fadeInRight, .fadeInLeft, .fadeInUp, .fadeInDown').removeClass('fadeInRight').removeClass('fadeInLeft').removeClass('fadeInUp').removeClass('fadeInDown');
        }, 1500);
      });
    }
  ]);

}).call(this);
