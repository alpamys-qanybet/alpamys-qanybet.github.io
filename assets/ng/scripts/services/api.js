// Generated by CoffeeScript 1.4.0
(function() {

  angular.module('tmg').service('$api', [
    '$rootScope', 'Restangular', '$http', '$q', '$cookies', function($rootScope, Restangular, $http, $q, $cookies) {
      var crud;
      crud = {
        list: function(process) {
          return Restangular.all(this.url).getList().then(function(data) {
            return process(data);
          });
        },
        get: function(id, process) {
          return Restangular.one(this.url, id).get().then(function(data) {
            return process(data);
          });
        },
        create: function(plain, process) {
          return Restangular.all(this.url).post(plain).then(function(data) {
            return process(data);
          });
        },
        update: function(plain, process) {
          return Restangular.one(this.url, plain.id).customPUT(plain).then(function(data) {
            return process(data);
          });
        },
        "delete": function(id, process) {
          return Restangular.one(this.url, id).remove({}).then(function(data) {
            return process(data);
          });
        }
      };
      this.faq = angular.copy(crud);
      this.faq.url = 'faq';
      this.support = angular.copy(crud);
      this.support.url = 'support';
      this.support.root = function(process) {
        return Restangular.all(this.url + '/root').getList().then(function(data) {
          return process(data);
        });
      };
      this.support.children = function(id, process) {
        return Restangular.all(this.url + '/' + id + '/children').getList().then(function(data) {
          return process(data);
        });
      };
      this.service = angular.copy(crud);
      this.service.url = 'service';
      this.service.root = function(process) {
        return Restangular.all(this.url + '/root').getList().then(function(data) {
          return process(data);
        });
      };
      this.service.children = function(id, process) {
        return Restangular.all(this.url + '/' + id + '/children').getList().then(function(data) {
          return process(data);
        });
      };
      this.schedule = angular.copy(crud);
      this.schedule.url = 'schedule';
      this.schedule.root = function(process) {
        return Restangular.all(this.url + '/root').getList().then(function(data) {
          return process(data);
        });
      };
      this.schedule.children = function(id, process) {
        return Restangular.all(this.url + '/' + id + '/children').getList().then(function(data) {
          return process(data);
        });
      };
      this.about = angular.copy(crud);
      this.about.url = 'about';
      this.about.root = function(process) {
        return Restangular.all(this.url + '/root').getList().then(function(data) {
          return process(data);
        });
      };
      this.about.children = function(id, process) {
        return Restangular.all(this.url + '/' + id + '/children').getList().then(function(data) {
          return process(data);
        });
      };
      return $rootScope.$api = this;
    }
  ]);

}).call(this);
